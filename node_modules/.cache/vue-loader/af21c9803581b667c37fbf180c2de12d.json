{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\权益\\demo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\权益\\demo\\src\\components\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\权益\\demo\\src\\components\\index.vue","mtime":1607675323137},{"path":"C:\\Users\\Administrator\\Desktop\\权益\\demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1607394629632},{"path":"C:\\Users\\Administrator\\Desktop\\权益\\demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1607394529649},{"path":"C:\\Users\\Administrator\\Desktop\\权益\\demo\\node_modules\\vue-loader\\lib\\index.js","mtime":1607394611475}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tname: 'index',\n\tdata() {\n\t\treturn {\n\t\t\tlist: \"\",\n\t\t\tcid: this.$route.query.cid || 571000,\n\t\t\tpage: 0,\n\t\t\tcategory: 0,\n\t\t\ts: 0,\n\t\t\tadvMode: \"0\",\n\t\t\tjsAdv: \"\",\n\t\t\tadArray: ['p45', 'p46', 'p47', 'p8', 'p48', 'p49', 'p50', 'p51', 'p52'],\n\t\t\tnavIndex: 0,\n\t\t\tnum:8,\n\t\t\tnav: [{\n\t\t\t\t\tname: \"推荐\",\n\t\t\t\t\tselected: 1,\n\t\t\t\t\tid: 0\n\t\t\t\t}, {\n\t\t\t\t\tname: \"娱乐\",\n\t\t\t\t\tselected: 0,\n\t\t\t\t\tid: 3\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"社会\",\n\t\t\t\t\tselected: 0,\n\t\t\t\t\tid: 1\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"养生\",\n\t\t\t\t\tselected: 0,\n\t\t\t\t\tid: 33\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"生活\",\n\t\t\t\t\tselected: 0,\n\t\t\t\t\tid: 17\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"猎奇\",\n\t\t\t\t\tselected: 0,\n\t\t\t\t\tid: 13\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"有料\",\n\t\t\t\t\tselected: 0,\n\t\t\t\t\tid: 35\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t},\n\tmethods: {\n\t\tgetNews(num, down) {\n\t\t\tlet that = this\n\t\t\tthis.$axios.get(\"../getNewsArray.htm?category=\" + this.category + \"&page=\" + this.page + \"&num=\" + this.num +\n\t\t\t\t\"&cid=\" +\n\t\t\t\tthis.cid).then(\n\t\t\t\t(res) => {\n\t\t\t\t\tlet list = res.data.data\n\t\t\t\t\tconsole.log(list)\n\t\t\t\t\tlet array = []\n\t\t\t\t\tfor (let i = 0; i < that.num; i = i + 2) {\n\t\t\t\t\t\tarray.push(list.slice(i, i + 2));\n\t\t\t\t\t}\n\t\t\t\t\tif (that.advMode == 2) {\n\t\t\t\t\t\tfor (let i = 0; i < 4; i++) {\n\t\t\t\t\t\t\tlet s = []\n\t\t\t\t\t\t\tlet json = {\n\t\t\t\t\t\t\t\tAdId: Math.floor(Math.random() * 90000) + 10000,\n\t\t\t\t\t\t\t\tinfoType: 1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ts.push(json)\n\t\t\t\t\t\t\tarray[i] = s.concat(array[i])\n\t\t\t\t\t\t} \t\n\t\t\t\t\t\tlist=array\n\t\t\t\t\t} else if (that.advMode == 4) {\n\t\t\t\t\t\tfor (let i = 0; i < 3; i++) {\n\t\t\t\t\t\t\tlet s = []\n\t\t\t\t\t\t\tfor (let o = 0; o < 2; o++) {\n\t\t\t\t\t\t\t\tlet json = {\n\t\t\t\t\t\t\t\t\tAdId: Math.floor(Math.random() * 90000) + 10000,\n\t\t\t\t\t\t\t\t\tinfoType: 1\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ts.push(json)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tarray[i] = s.concat(array[i])\n\t\t\t\t\t\t} \n\t\t\t\t\t\t\n\t\t\t\t\t\t list=array\n\t\t\t\t\t} else if (that.advMode == 3) {\n\t\t\t\t\t\tfor (let i = 0; i < 4; i++) {\n\t\t\t\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\t\t\t\tlet s = []\n\t\t\t\t\t\t\t\tfor (let o = 0; o < 4; o++) {\n\t\t\t\t\t\t\t\t\tlet json = {\n\t\t\t\t\t\t\t\t\t\tAdId: Math.floor(Math.random() * 90000) + 10000,\n\t\t\t\t\t\t\t\t\t\tinfoType: 1\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ts.push(json)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tarray[i] = s.concat(array[i])\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tlet s = []\n\t\t\t\t\t\t\t\tfor (let o = 0; o < 2; o++) {\n\t\t\t\t\t\t\t\t\tlet json = {\n\t\t\t\t\t\t\t\t\t\tAdId: Math.floor(Math.random() * 90000) + 10000,\n\t\t\t\t\t\t\t\t\t\tinfoType: 1\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ts.push(json)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tarray[i] = s.concat(array[i])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}  \n\t\t\t\t\t\tlist=array\n\t\t\t\t\t}else if (that.advMode == 5) { \n\t\t\t\t\t\tlet array = [0, 2,4]\n\t\t\t\t\t\tfor (let i = 0; i < 3; i++) {\n\t\t\t\t\t\t\tlet array2=[]\n\t\t\t\t\t\t\tfor(let s=0;s<3;s++){\n\t\t\t\t\t\t\t\tlet json = {\n\t\t\t\t\t\t\t\t\tAdId: Math.floor(Math.random() * 90000) + 10000,\n\t\t\t\t\t\t\t\t\tinfoType: 1\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tarray2.push(json)\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\tlist.splice(array[i], 0, array2)\n\t\t\t\t\t\t} \n\t\t\t\t\t}  \n\t\t\t\t\t\n\t\t\t\t\tlet result = [].concat.apply([], list)\n\t\t\t\t\tif (!down) {\n\t\t\t\t\t\tthat.list = result\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthat.list = that.list.concat(result)\n\t\t\t\t\t}\n\t\t\t\t\tif (that.jsAdv) {\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tlet page = that.page\n\t\t\t\t\t\t\tlet len\n\t\t\t\t\t\t\tif (that.advMode == 2) {\n\t\t\t\t\t\t\t\tlen = 12\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (that.advMode == 3) {\n\t\t\t\t\t\t\t\tlen = 20\n\t\t\t\t\t\t\t} else if (that.advMode == 4) {\n\t\t\t\t\t\t\t\tlen = 16\n\t\t\t\t\t\t\t}else if(that.advMode==5){\n\t\t\t\t\t\t\t\tlen=19\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfor (let i = page * len; i < len * (page + 1); i++) {\n\t\t\t\t\t\t\t\tif (that.list[i].AdId) {\n\t\t\t\t\t\t\t\t\tlet id = that.jsAdv[that.adArray[randomNum(0, 8)]]\n\t\t\t\t\t\t\t\t\tif (id) {\n\t\t\t\t\t\t\t\t\t\tid = eval('(' + id + ')');\n\t\t\t\t\t\t\t\t\t\tlet sogou_div = document.getElementById(that.list[i].AdId);\n\t\t\t\t\t\t\t\t\t\twindow.sogou_un = window.sogou_un || [];\n\t\t\t\t\t\t\t\t\t\twindow.sogou_un.push({\n\t\t\t\t\t\t\t\t\t\t\tid: id.id,\n\t\t\t\t\t\t\t\t\t\t\tele: sogou_div\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 500)\n\t\t\t\t\t}\n\t\t\t\t\tthat.s = 0\n\t\t\t\t})\n\t\t},\n\t\tgoNav(index) {\n\t\t\tthis.nav[this.navIndex].selected = 0\n\t\t\tthis.navIndex = index\n\t\t\tthis.nav[index].selected = 1\n\t\t\tthis.category = this.nav[index].id\n\t\t\tthis.list = []\n\t\t\tthis.page=0\n\t\t\tlet that = this\n\t\t\tthis.getNews(this.num)\n\t\t}\n\t},\n\tmounted() {\n\t\tlet that = this\n\t\tthis.$nextTick(() => {\n\t\t\t// this.initScroll()\n\t\t\twindow.onscroll = function() {\n\t\t\t\t//变量scrollTop是滚动条滚动时，距离顶部的距离\n\t\t\t\tvar scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n\t\t\t\t//变量windowHeight是可视区的高度\n\t\t\t\tvar windowHeight = document.documentElement.clientHeight || document.body.clientHeight;\n\t\t\t\t//变量scrollHeight是滚动条的总高度\n\t\t\t\tvar scrollHeight = document.documentElement.scrollHeight || document.body.scrollHeight;\n\t\t\t\t//滚动条到底部的条件\n\t\t\t\tlet h = scrollHeight - scrollTop - windowHeight\n\t\t\t\tif (h < 20 && that.s == 0) {\n\t\t\t\t\t//写后台加载数据的函数\n\t\t\t\t\tthat.page++\n\t\t\t\t\tthat.s = 1\n\t\t\t\t\tthat.getNews(this.num, true)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t},\n\tcreated() {\n\t\tthis.$axios.get(\"../api/getAdvs.htm?cid=\" + this.cid).then((res) => { \n\t\t\tthis.advMode = res.data.advMode\n\t\t\tthis.jsAdv = res.data.jsAdvdata \n\t\t\tif (res.data.advMode == 4||res.data.advMode==5) {\n\t\t\t\tthis.num = 10\n\t\t\t}   \n\t\t\tthis.getNews(this.num)\n\t\t})\n\t},\n\n}\n\nfunction randomNum(minNum, maxNum) {\n\tswitch (arguments.length) {\n\t\tcase 1:\n\t\t\treturn parseInt(Math.random() * minNum + 1, 10);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\treturn parseInt(Math.random() * (maxNum - minNum + 1) + minNum, 10);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\treturn 0;\n\t\t\tbreak;\n\t}\n}\n",null]}