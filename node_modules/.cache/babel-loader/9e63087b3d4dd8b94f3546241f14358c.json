{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\权益\\demo\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Administrator\\Desktop\\权益\\demo\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\权益\\demo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\权益\\demo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\权益\\demo\\src\\components\\detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\权益\\demo\\src\\components\\detail.vue","mtime":1610954833108},{"path":"C:\\Users\\Administrator\\Desktop\\权益\\demo\\.babelrc","mtime":1574662453873},{"path":"C:\\Users\\Administrator\\Desktop\\权益\\demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1607394529649},{"path":"C:\\Users\\Administrator\\Desktop\\权益\\demo\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1607394511239},{"path":"C:\\Users\\Administrator\\Desktop\\权益\\demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1607394629632},{"path":"C:\\Users\\Administrator\\Desktop\\权益\\demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1607394529649},{"path":"C:\\Users\\Administrator\\Desktop\\权益\\demo\\node_modules\\vue-loader\\lib\\index.js","mtime":1607394611475}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar x = null;\nimport topLoad from \"../components/topLoad.vue\";\nexport default {\n  name: 'detail',\n  components: {\n    topLoad: topLoad // //注册组件\n\n  },\n  data: function data() {\n    return {\n      data: \"\",\n      list: \"\",\n      content: \"\",\n      cid: this.$route.query.cid,\n      adArray: ['p1', 'p36', 'p4', 'p5', 'p6', 'p7', 'p40', 'p41', 'p42', 'p43'],\n      page: 0,\n      advMode: \"\",\n      s: 0,\n      clickNum: 0,\n      clickTimes: \"\",\n      clickMin: \"\",\n      lastTime: \"\",\n      noAd: true,\n      loadTx: 0,\n      psMsg: {\n        text: \"阅读任意2-3篇内容，时长≥45秒\",\n        step: 0,\n        success: 0,\n        imgCdnUrl: \"http://res.hodanet.com/upload/sy/20201117/17/1608196908925.png\",\n        width: this.$route.query.width\n      },\n      showDetail: \"\",\n      adNum: \"\",\n      adHide: \"\",\n      height: \"400px\",\n      zhankai: true\n    };\n  },\n  inject: [\"reload\"],\n  methods: {\n    autoHeight: function autoHeight() {\n      this.height = \"auto\";\n      this.zhankai = false;\n    },\n    goHref: function goHref(id) {\n      var that = this;\n\n      if (this.loadTx == 1) {\n        localStorage.touch = Number(localStorage.touch) - 1;\n\n        if (Number(localStorage.width) < 30) {\n          var index = -4;\n          this.psMsg.width = Number(localStorage.width) + index;\n          localStorage.width = this.psMsg.width;\n\n          if (this.psMsg.width >= 30) {\n            this.psMsg.step = 1;\n            this.psMsg.text = \"点击页面中的广告,可继续倒计时\";\n          }\n        } else if (Number(localStorage.width) >= 30 && localStorage.readAd == 2) {\n          if (Number(localStorage.touch) > 0) {\n            console.log(Number(localStorage.touch));\n\n            var _index = 87 - Number(localStorage.width);\n\n            this.psMsg.width = 87;\n            localStorage.width = 87;\n            localStorage.setItem(\"over\", 1);\n            setTimeout(function () {\n              that.psMsg.success = 1;\n              that.psMsg.text = \"任务已完成\";\n              that.psMsg.imgCdnUrl = \"http://res.hodanet.com/upload/sy/20201118/16/1608280846541.png\";\n            }, 4000);\n          } else {\n            this.psMsg.text = \"滑动页面，可继续完成任务\";\n          }\n        }\n\n        localStorage.click = Number(localStorage.click) + 1;\n      }\n\n      this.$router.push({\n        path: '/detail',\n        query: {\n          id: id,\n          cid: this.cid,\n          width: localStorage.width\n        }\n      });\n      this.reload();\n    },\n    touch: function touch(e) {\n      var that = this;\n\n      if (localStorage.getItem(\"over\") != 1) {\n        if (that.loadTx == 1) {\n          if (Number(localStorage.width) < 30) {\n            var index = 10;\n            that.psMsg.width = Number(localStorage.width) + Number(index);\n            console.log(that.psMsg.width);\n\n            if (that.psMsg.width >= 30) {\n              that.psMsg.step = 1;\n              that.psMsg.text = \"点击页面中的广告,可继续倒计时\";\n            }\n\n            localStorage.width = that.psMsg.width;\n          } else if (Number(localStorage.width) >= 30 && localStorage.readAd == 2) {\n            if (Number(localStorage.touch) > 0) {\n              console.log(Number(localStorage.touch));\n\n              var _index2 = 87 - Number(localStorage.width);\n\n              this.psMsg.width = 87;\n              localStorage.width = 87;\n              localStorage.setItem(\"over\", 1);\n              setTimeout(function () {\n                that.psMsg.success = 1;\n                that.psMsg.text = \"任务已完成\";\n                that.psMsg.imgCdnUrl = \"http://res.hodanet.com/upload/sy/20201118/16/1608280846541.png\";\n              }, 4000);\n            } else {\n              this.psMsg.text = \"滑动页面，可继续完成任务\";\n            }\n          }\n\n          localStorage.touch = Number(localStorage.touch) + 1;\n        }\n      }\n    },\n    clickNews: function clickNews(id) {\n      this.$router.push({\n        path: '/detail',\n        query: {\n          id: id,\n          cid: this.cid\n        }\n      });\n    },\n    makeRandomArr: function makeRandomArr(arrList, num) {\n      if (num > arrList.length) {\n        return;\n      } //    var tempArr=arrList.concat();    \n\n\n      var tempArr = arrList.slice(0);\n      var newArrList = [];\n\n      for (var i = 0; i < num; i++) {\n        var random = Math.floor(Math.random() * (tempArr.length - 1));\n        var arr = tempArr[random];\n        tempArr.splice(random, 1);\n        newArrList.push(arr);\n      }\n\n      return newArrList;\n    }\n  },\n  mounted: function mounted() {\n    var that = this;\n    this.$nextTick(function () {\n      // this.initScroll()\n      window.onscroll = function () {\n        //变量scrollTop是滚动条滚动时，距离顶部的距离\n        var scrollTop = document.documentElement.scrollTop || document.body.scrollTop; //变量windowHeight是可视区的高度\n\n        var windowHeight = document.documentElement.clientHeight || document.body.clientHeight; //变量scrollHeight是滚动条的总高度\n\n        var scrollHeight = document.documentElement.scrollHeight || document.body.scrollHeight; //滚动条到底部的条件\n\n        var h = scrollHeight - scrollTop - windowHeight;\n\n        if (h < 100 && that.s == 0 && that.advMode != 2) {\n          //写后台加载数据的函数\n          // alert(1)\n          that.page++;\n          that.s = 1;\n\n          if (that.advMode == 3) {\n            that.$axios.get(\"../getNewsArray.htm?category=0&num=5&cid=\" + that.cid).then(function (res) {\n              var list = res.data.data;\n              var array = [];\n\n              for (var o = 0; o < 3; o++) {\n                var json = {\n                  AdId: Math.floor(Math.random() * 90000) + 10000,\n                  infoType: 1\n                };\n                array.push(json);\n              }\n\n              list = array.concat(list);\n              array = [];\n\n              for (var _o = 0; _o < 2; _o++) {\n                var _json = {\n                  AdId: Math.floor(Math.random() * 90000) + 10000,\n                  infoType: 1\n                };\n                array.push(_json);\n              }\n\n              list.splice(6, 0, array);\n              var result = [].concat.apply([], list);\n              that.list = that.list.concat(result);\n\n              if (that.jsAdv) {\n                var arr8 = new Array(5).keys();\n                var f = 0;\n\n                if (that.showDetail) {\n                  var showDetail = Math.round(that.showDetail * 5);\n                  arr8 = Array.from(arr8);\n                  arr8 = that.makeRandomArr(arr8, showDetail);\n                }\n\n                setTimeout(function () {\n                  for (var i = 10 * that.page; i < (that.page + 1) * 10; i++) {\n                    if (that.list[i].AdId) {\n                      if (that.showDetail) {\n                        if (arr8.indexOf(f) > -1) {\n                          that.list[i]['adHide'] = 1;\n                          var data = that.list[i];\n                          that.list.splice(i, 1, data);\n                        }\n                      }\n\n                      var id = that.jsAdv[that.adArray[randomNum(0, 9)]];\n\n                      if (id) {\n                        id = eval('(' + id + ')');\n                        var sogou_div = document.getElementById(that.list[i].AdId);\n                        window.sogou_un = window.sogou_un || [];\n                        window.sogou_un.push({\n                          id: id.id,\n                          ele: sogou_div\n                        });\n                      }\n\n                      f++;\n                    }\n                  }\n                }, 1000);\n              }\n            });\n            that.s = 0;\n          } else if (that.advMode == 4) {\n            that.$axios.get(\"../getNewsArray.htm?category=0&num=16&cid=\" + that.cid).then(function (res) {\n              var list = res.data.data;\n              var array = [1, 3, 10, 12, 20];\n\n              for (var i = 0; i < 5; i++) {\n                var json = {\n                  AdId: Math.floor(Math.random() * 90000) + 10000,\n                  infoType: 1\n                };\n                list.splice(array[i], 0, json);\n              }\n\n              that.list = that.list.concat(list);\n\n              if (that.jsAdv) {\n                setTimeout(function () {\n                  var arr8 = new Array(5).keys();\n                  var f = 0;\n\n                  if (that.showDetail) {\n                    var showDetail = Math.round(that.showDetail * 5);\n                    arr8 = Array.from(arr8);\n                    arr8 = that.makeRandomArr(arr8, showDetail);\n                  }\n\n                  for (var _i = 21 * that.page; _i < (that.page + 1) * 21; _i++) {\n                    if (that.list[_i].AdId) {\n                      if (that.showDetail) {\n                        if (arr8.indexOf(f) > -1) {\n                          that.list[_i]['adHide'] = 1;\n                          var data = that.list[_i];\n                          that.list.splice(_i, 1, data);\n                        }\n                      }\n\n                      var id = that.jsAdv[that.adArray[randomNum(0, 9)]];\n\n                      if (id) {\n                        id = eval('(' + id + ')');\n                        var sogou_div = document.getElementById(that.list[_i].AdId);\n                        window.sogou_un = window.sogou_un || [];\n                        window.sogou_un.push({\n                          id: id.id,\n                          ele: sogou_div\n                        });\n                      }\n\n                      f++;\n                    }\n                  }\n\n                  console.log(that.list);\n                }, 1000);\n              }\n\n              that.s = 0;\n            });\n          }\n\n          if (that.advMode == 5) {\n            that.$axios.get(\"../getNewsArray.htm?category=0&num=5&cid=\" + that.cid).then(function (res) {\n              var list = res.data.data;\n              var json = {\n                AdId: Math.floor(Math.random() * 90000) + 10000,\n                infoType: 1\n              };\n              list.splice(1, 0, json);\n              json = {\n                AdId: Math.floor(Math.random() * 90000) + 10000,\n                infoType: 1\n              };\n              list.splice(3, 0, json);\n              that.list = that.list.concat(list);\n\n              if (that.jsAdv) {\n                var arr8 = new Array(2).keys();\n                var f = 0;\n\n                if (that.showDetail) {\n                  var showDetail = Math.round(that.showDetail * 2);\n                  arr8 = Array.from(arr8);\n                  arr8 = that.makeRandomArr(arr8, showDetail);\n                }\n\n                setTimeout(function () {\n                  for (var i = 7 * that.page; i < (that.page + 1) * 7; i++) {\n                    if (that.list[i].AdId) {\n                      if (that.showDetail) {\n                        if (arr8.indexOf(f) > -1) {\n                          that.list[i]['adHide'] = 1;\n                          var data = that.list[i];\n                          that.list.splice(i, 1, data);\n                        }\n                      }\n\n                      var id = that.jsAdv[that.adArray[randomNum(0, 9)]];\n\n                      if (id) {\n                        id = eval('(' + id + ')');\n                        var sogou_div = document.getElementById(that.list[i].AdId);\n                        window.sogou_un = window.sogou_un || [];\n                        window.sogou_un.push({\n                          id: id.id,\n                          ele: sogou_div\n                        });\n                      }\n\n                      f++;\n                    }\n                  }\n                }, 1000);\n              }\n\n              that.s = 0;\n            });\n          }\n        }\n      };\n    });\n  },\n  created: function created() {\n    var _this = this;\n\n    window.scrollTo(0, 0);\n    var that = this;\n\n    if (this.cid == \"411320\") {\n      this.psMsg.text = \"阅读任意2-3篇内容，时长≥60秒\";\n    }\n\n    this.$axios.get(\"../getDetailData.htm?cid=\" + this.cid + \"&id=\" + this.$route.query.id).then(function (res) {\n      console.log(res.data.data.detail);\n      _this.data = res.data.data.detail;\n      _this.content = _this.data.contents[0].content;\n    });\n    this.$axios.get(\"../api/getAdvs.htm?cid=\" + this.cid).then(function (res) {\n      console.log(res.data);\n      _this.loadTx = res.data.taskSwitch; // this.loadTx = 1\n\n      if (res.data.showDetail) {\n        _this.showDetail = res.data.showDetail;\n      }\n\n      if (res.data.cnzzUrl) {\n        var cnzz_s_tag = document.createElement('script');\n        cnzz_s_tag.type = 'text/javascript';\n        cnzz_s_tag.async = true;\n        cnzz_s_tag.src = res.data.cnzzUrl;\n        var root_s = document.getElementsByTagName('script')[0];\n        root_s.parentNode.insertBefore(cnzz_s_tag, root_s);\n      }\n\n      if (res.data.advBlock == 1) {\n        _this.noAd = true;\n\n        _this.$axios.get(\"../getNewsArray.htm?category=0&page=1&num=10&cid=\" + _this.$route.query.cid).then(function (res) {\n          var list = res.data.data;\n          _this.list = list;\n        });\n      } else {\n        _this.advMode = res.data.advMode;\n        _this.jsAdv = res.data.jsAdvdata;\n        _this.noAd = false;\n        var date = localStorage.getItem(\"date\");\n\n        if (!date) {\n          date = Math.round(new Date() / 1000);\n          localStorage.setItem(\"date\", date);\n        } else {\n          var date2 = Math.round(new Date() / 1000) - date;\n\n          if (date2 > 86400) {\n            date = Math.round(new Date() / 1000);\n            localStorage.setItem(\"date\", date);\n            localStorage.removeItem(\"clickNum\");\n            localStorage.removeItem(\"lastTime\");\n            localStorage.removeItem(\"width\");\n            localStorage.removeItem(\"click\");\n            localStorage.removeItem(\"readAd\");\n            localStorage.removeItem(\"touch\");\n            localStorage.removeItem(\"over\");\n            localStorage.removeItem(\"alert\");\n          }\n        }\n\n        if (res.data.clickLimit == 1) {\n          x = 1;\n          _this.clickMin = res.data.clickMin;\n          _this.clickTimes = res.data.clickTimes;\n          var clickNum = Number(localStorage.getItem(\"clickNum\"));\n\n          if (!clickNum) {\n            localStorage.setItem(\"clickNum\", 0);\n            _this.clickNum = 0;\n          } else {\n            _this.clickNum = clickNum;\n          }\n\n          var lastTime = localStorage.getItem(\"lastTime\");\n\n          if (!lastTime) {\n            _this.lastTime = Date.parse(new Date());\n            localStorage.setItem(\"lastTime\", _this.lastTime);\n          } else {\n            var time = (Date.parse(new Date()) - Number(lastTime)) / 1000;\n            console.log(time);\n\n            if (time < _this.clickMin * 60) {\n              if (_this.clickNum >= _this.clickTimes) {\n                _this.noAd = true;\n\n                _this.$axios.get(\"../reportBlockAdv.htm?cid=\" + _this.cid).then(function (res) {\n                  console.log(res);\n                });\n              }\n            } else {\n              _this.lastTime = Date.parse(new Date());\n              localStorage.setItem(\"lastTime\", _this.lastTime);\n              localStorage.setItem(\"clickNum\", 0);\n            }\n          }\n        } else {\n          localStorage.removeItem(\"clickNum\");\n          localStorage.removeItem(\"lastTime\");\n        }\n\n        if (_this.noAd == false) {\n          if (_this.advMode == 1) {\n            _this.$axios.get(\"../getNewsArray.htm?category=0&page=1&num=5&cid=\" + _this.$route.query.cid).then(function (res) {\n              var list = res.data.data;\n              _this.list = list;\n            });\n\n            if (that.jsAdv) {\n              var newArray = [\"p1\", \"p4\", \"p5\", \"p6\", \"p7\"];\n              setTimeout(function () {\n                if (that.showDetail) {\n                  var arr = that.makeRandomArr(newArray, Math.round(5 * that.showDetail));\n                  arr.forEach(function (item) {\n                    document.getElementById(item).style.display = \"none\";\n                  });\n                }\n\n                newArray.forEach(function (item) {\n                  var id = that.jsAdv[that.adArray[randomNum(0, 9)]];\n\n                  if (id) {\n                    id = eval('(' + id + ')');\n                    var sogou_div = document.getElementById(item);\n                    window.sogou_un = window.sogou_un || [];\n                    window.sogou_un.push({\n                      id: id.id,\n                      ele: sogou_div\n                    });\n                  }\n                });\n              }, 1000);\n            }\n          }\n\n          if (_this.advMode == 2) {\n            if (that.jsAdv) {\n              var _newArray = [\"p1\", \"p4\", \"p5\", \"p6\", \"p7\", \"p40\", \"p41\", \"p42\", \"p43\"];\n              setTimeout(function () {\n                if (that.showDetail) {\n                  var arr = that.makeRandomArr(_newArray, Math.round(9 * that.showDetail));\n                  arr.forEach(function (item) {\n                    document.getElementById(item).style.display = \"none\";\n                  });\n                }\n\n                _newArray.forEach(function (item) {\n                  var id = that.jsAdv[that.adArray[randomNum(0, 9)]];\n\n                  if (id) {\n                    id = eval('(' + id + ')');\n                    var sogou_div = document.getElementById(item);\n                    window.sogou_un = window.sogou_un || [];\n                    window.sogou_un.push({\n                      id: id.id,\n                      ele: sogou_div\n                    });\n                  }\n                });\n              }, 1000);\n            }\n          } else if (_this.advMode == 3) {\n            _this.$axios.get(\"../getNewsArray.htm?category=0&page=1&num=5&cid=\" + _this.$route.query.cid).then(function (res) {\n              var list = res.data.data;\n              var array = [];\n\n              for (var o = 0; o < 3; o++) {\n                var json = {\n                  AdId: Math.floor(Math.random() * 90000) + 10000,\n                  infoType: 1\n                };\n                array.push(json);\n              }\n\n              list = array.concat(list);\n              array = [];\n\n              for (var _o2 = 0; _o2 < 2; _o2++) {\n                var _json2 = {\n                  AdId: Math.floor(Math.random() * 90000) + 10000,\n                  infoType: 1\n                };\n                array.push(_json2);\n              }\n\n              list.splice(6, 0, array);\n              var result = [].concat.apply([], list);\n              _this.list = result;\n\n              if (that.jsAdv) {\n                var _newArray2 = [\"p1\", \"p4\", \"p5\", \"p6\", \"p7\"];\n                setTimeout(function () {\n                  if (that.showDetail) {\n                    var arr = that.makeRandomArr(_newArray2, Math.round(5 * that.showDetail));\n                    arr.forEach(function (item) {\n                      document.getElementById(item).style.display = \"none\";\n                    });\n                  }\n\n                  _newArray2.forEach(function (item) {\n                    var id = that.jsAdv[that.adArray[randomNum(0, 9)]];\n\n                    if (id) {\n                      id = eval('(' + id + ')');\n                      var sogou_div = document.getElementById(item);\n                      window.sogou_un = window.sogou_un || [];\n                      window.sogou_un.push({\n                        id: id.id,\n                        ele: sogou_div\n                      });\n                    }\n                  });\n\n                  var arr8 = new Array(5).keys();\n                  var f = 0;\n\n                  if (that.showDetail) {\n                    var showDetail = Math.round(that.showDetail * 5);\n                    arr8 = Array.from(arr8);\n                    arr8 = that.makeRandomArr(arr8, showDetail);\n                  }\n\n                  for (var i = 0; i < that.list.length; i++) {\n                    if (that.list[i].AdId) {\n                      if (that.showDetail) {\n                        if (arr8.indexOf(f) > -1) {\n                          that.list[i]['adHide'] = 1;\n                          var data = that.list[i];\n                          that.list.splice(i, 1, data);\n                        }\n                      }\n\n                      var id = that.jsAdv[that.adArray[randomNum(0, 9)]];\n\n                      if (id) {\n                        id = eval('(' + id + ')');\n                        var sogou_div = document.getElementById(that.list[i].AdId);\n                        window.sogou_un = window.sogou_un || [];\n                        window.sogou_un.push({\n                          id: id.id,\n                          ele: sogou_div\n                        });\n                      }\n\n                      f++;\n                    }\n                  }\n                }, 1000);\n              }\n            });\n          } else if (_this.advMode == 4) {\n            _this.$axios.get(\"../getNewsArray.htm?category=0&page=1&num=16&cid=\" + _this.$route.query.cid).then(function (res) {\n              var list = res.data.data;\n              var array = [1, 3, 10, 12, 20];\n\n              for (var i = 0; i < 5; i++) {\n                var json = {\n                  AdId: Math.floor(Math.random() * 90000) + 10000,\n                  infoType: 1\n                };\n                list.splice(array[i], 0, json);\n              }\n\n              _this.list = list;\n\n              if (that.jsAdv) {\n                var _newArray3 = [\"p1\", \"p5\"];\n                setTimeout(function () {\n                  if (that.showDetail) {\n                    var arr = that.makeRandomArr(_newArray3, Math.round(2 * that.showDetail));\n                    arr.forEach(function (item) {\n                      document.getElementById(item).style.display = \"none\";\n                    });\n                  }\n\n                  _newArray3.forEach(function (item) {\n                    var id = that.jsAdv[that.adArray[randomNum(0, 9)]];\n\n                    if (id) {\n                      id = eval('(' + id + ')');\n                      var sogou_div = document.getElementById(item);\n                      window.sogou_un = window.sogou_un || [];\n                      window.sogou_un.push({\n                        id: id.id,\n                        ele: sogou_div\n                      });\n                    }\n                  });\n\n                  var arr8 = new Array(5).keys();\n                  var f = 0;\n\n                  if (that.showDetail) {\n                    var showDetail = Math.round(that.showDetail * 5);\n                    arr8 = Array.from(arr8);\n                    arr8 = that.makeRandomArr(arr8, showDetail);\n                  }\n\n                  for (var _i2 = 0; _i2 < that.list.length; _i2++) {\n                    if (that.list[_i2].AdId) {\n                      if (that.showDetail) {\n                        if (arr8.indexOf(f) > -1) {\n                          that.list[_i2]['adHide'] = 1;\n                          var data = that.list[_i2];\n                          that.list.splice(_i2, 1, data);\n                        }\n                      }\n\n                      var id = that.jsAdv[that.adArray[randomNum(0, 9)]];\n\n                      if (id) {\n                        id = eval('(' + id + ')');\n                        var sogou_div = document.getElementById(that.list[_i2].AdId);\n                        window.sogou_un = window.sogou_un || [];\n                        window.sogou_un.push({\n                          id: id.id,\n                          ele: sogou_div\n                        });\n                      }\n\n                      f++;\n                    }\n                  }\n                }, 1000);\n              }\n            });\n          } else if (_this.advMode == 5) {\n            _this.$axios.get(\"../getNewsArray.htm?category=0&page=1&num=5&cid=\" + _this.$route.query.cid).then(function (res) {\n              var list = res.data.data;\n              var array = [1, 3];\n\n              for (var i = 0; i < 2; i++) {\n                var json = {\n                  AdId: Math.floor(Math.random() * 90000) + 10000,\n                  infoType: 1\n                };\n                list.splice(array[i], 0, json);\n              }\n\n              console.log(list);\n              _this.list = list;\n\n              if (that.jsAdv) {\n                var _newArray4 = [\"p1\", \"p4\", \"p5\", \"p6\", \"p7\"];\n                setTimeout(function () {\n                  if (that.showDetail) {\n                    var arr = that.makeRandomArr(_newArray4, Math.round(5 * that.showDetail));\n                    arr.forEach(function (item) {\n                      document.getElementById(item).style.display = \"none\";\n                    });\n                  }\n\n                  _newArray4.forEach(function (item) {\n                    var id = that.jsAdv[that.adArray[randomNum(0, 9)]];\n\n                    if (id) {\n                      id = eval('(' + id + ')');\n                      var sogou_div = document.getElementById(item);\n                      window.sogou_un = window.sogou_un || [];\n                      window.sogou_un.push({\n                        id: id.id,\n                        ele: sogou_div\n                      });\n                    }\n                  });\n\n                  var arr8 = new Array(2).keys();\n                  var f = 0;\n\n                  if (that.showDetail) {\n                    var showDetail = Math.round(that.showDetail * 2);\n                    arr8 = Array.from(arr8);\n                    arr8 = that.makeRandomArr(arr8, showDetail);\n                  }\n\n                  for (var _i3 = 0; _i3 < that.list.length; _i3++) {\n                    if (that.list[_i3].AdId) {\n                      if (that.showDetail) {\n                        if (arr8.indexOf(f) > -1) {\n                          that.list[_i3]['adHide'] = 1;\n                          var data = that.list[_i3];\n                          that.list.splice(_i3, 1, data);\n                        }\n                      }\n\n                      var id = that.jsAdv[that.adArray[randomNum(0, 9)]];\n\n                      if (id) {\n                        id = eval('(' + id + ')');\n                        var sogou_div = document.getElementById(that.list[_i3].AdId);\n                        window.sogou_un = window.sogou_un || [];\n                        window.sogou_un.push({\n                          id: id.id,\n                          ele: sogou_div\n                        });\n                      }\n\n                      f++;\n                    }\n                  }\n                }, 1000);\n              }\n            });\n          }\n        }\n      }\n    });\n  }\n};\n\nfunction randomNum(minNum, maxNum) {\n  switch (arguments.length) {\n    case 1:\n      return parseInt(Math.random() * minNum + 1, 10);\n      break;\n\n    case 2:\n      return parseInt(Math.random() * (maxNum - minNum + 1) + minNum, 10);\n      break;\n\n    default:\n      return 0;\n      break;\n  }\n}\n\nwindow.onbeforeunload = function () {\n  var clickNum = Number(localStorage.getItem(\"clickNum\"));\n  clickNum++;\n  localStorage.setItem(\"clickNum\", clickNum);\n  var readAd = Number(localStorage.getItem(\"readAd\"));\n  readAd++;\n\n  if (readAd <= 2) {\n    var width = Number(localStorage.getItem(\"width\")) + 30;\n\n    if (width > 80) {\n      width = 80;\n    }\n\n    localStorage.setItem(\"width\", width);\n  } else {\n    readAd = 2;\n  }\n\n  localStorage.setItem(\"readAd\", readAd);\n};",null]}